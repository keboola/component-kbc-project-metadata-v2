{
    "type": "object",
    "title": "App configuration",
    "required": [
        "tokens",
        "master_token",
        "datasets",
        "incremental_load"
    ],
    "properties": {
        "tokens": {
            "type": "array",
            "title": "List of Storage tokens",
            "description": "List of Storage tokens, defining the projects that will be scanned. Transformation Component and Storage access needed.",
            "propertyOrder": 2000,
            "items": {
                "format": "grid",
                "type": "object",
                "title": "Token",
                "required": [
                    "#key",
                    "region"
                ],
                "properties": {
                    "#key": {
                        "type": "string",
                        "format": "password",
                        "title": "Token Key",
                        "propertyOrder": 1000
                    },
                    "region": {
                        "enum": [
                            "eu-central-1",
                            "us-east-1"
                        ],
                        "options": {
                            "enum_titles": [
                                "EU",
                                "US"
                            ]
                        },
                        "type": "string",
                        "title": "Project region",
                        "default": "EU",
                        "propertyOrder": 2000
                    }
                }
            }
        },
        "master_token": {
            "type": "array",
            "propertyOrder": 1000,
            "title": "Master token",
            "description": "Set master token to analyze all project available in the organization. Note that this overrides any tokens explicitly specified in the List of Storage tokens section.",
            "maxItems": 1,
            "items": {
                "format": "grid",
                "type": "object",
                "title": "Token",
                "required": [
                    "#token",
                    "org_id",
                    "region"
                ],
                "properties": {
                    "#token": {
                        "type": "string",
                        "format": "password",
                        "title": "Token Key",
                        "propertyOrder": 1000
                    },
                    "org_id": {
                        "type": "string",
                        "title": "Organization id",
                        "propertyOrder": 1200
                    },
                    "region": {
                        "enum": [
                            "eu-central-1",
                            "us-east-1"
                        ],
                        "options": {
                            "enum_titles": [
                                "EU",
                                "US"
                            ]
                        },
                        "type": "string",
                        "title": "Project region",
                        "default": "EU",
                        "propertyOrder": 2000
                    }
                }
            }
        },
        "datasets": {
            "type": "object",
            "propertyOrder": 3000,
            "required": [
                "get_tokens",
                "get_orchestrations",
                "get_triggers",
                "get_waiting_jobs",
                "get_tables",
                "get_all_configurations",
                "get_transformations",
                "get_project_users",
                "get_organization_users"
            ],
            "title": "Project data to download",
            "properties": {
                "get_tokens": {
                    "type": "boolean",
                    "format": "checkbox",
                    "title": "Get Tokens",
                    "propertyOrder": 2000,
                    "description": "Requires master storage token or token with <strong>canManageTokens</strong> permissions."
                },
                "get_orchestrations": {
                    "type": "boolean",
                    "format": "checkbox",
                    "title": "Get Orchestrations",
                    "propertyOrder": 2500
                },
                "get_triggers": {
                    "type": "boolean",
                    "format": "checkbox",
                    "title": "Get Orchestration Triggers",
                    "propertyOrder": 2750
                },
                "get_waiting_jobs": {
                    "type": "boolean",
                    "format": "checkbox",
                    "title": "Get Waiting Jobs",
                    "propertyOrder": 3000
                },
                "get_tables": {
                    "type": "boolean",
                    "format": "checkbox",
                    "title": "Get Tables",
                    "propertyOrder": 3500
                },
                "get_all_configurations": {
                    "type": "boolean",
                    "format": "checkbox",
                    "title": "Get All Configurations",
                    "propertyOrder": 4000
                },
                "get_transformations": {
                    "type": "boolean",
                    "format": "checkbox",
                    "title": "Get Transformations and Their Details",
                    "description": "Downloads data to the transformation level, including input and output mappings.",
                    "propertyOrder": 4500
                },
                "get_project_users": {
                    "type": "boolean",
                    "format": "checkbox",
                    "title": "Get Project Users",
                    "propertyOrder": 5000,
                    "description": "Requires management token."
                },
                "get_organization_users": {
                    "type": "boolean",
                    "format": "checkbox",
                    "title": "Get Organization Users",
                    "propertyOrder": 5500,
                    "description": "Requires management token."
                },
                "get_component_cfg_details": {
                    "type": "array",
                    "uniqueItems": true,
                    "items": {
                        "type": "string",
                        "enum": [
                            "extractor",
                            "writer",
                            "application"
                        ],
                        "options": {
                            "enum_titles": [
                                "Extractors",
                                "Writers",
                                "Applications"
                            ]
                        }
                    },
                    "title": "Get Component config metadata",
                    "propertyOrder": 4100
                }
            }
        },
        "incremental_load": {
            "type": "number",
            "propertyOrder": 4000,
            "enum": [
                1,
                0
            ],
            "title": "Load Type",
            "default": 1,
            "options": {
                "enum_titles": [
                    "Incremental Load",
                    "Full Load"
                ]
            }
        },
        "destination_bucket": {
            "type": "string",
            "title": "Storage Bucket",
            "description": "The name of the bucket, where all output will be stored.",
            "propertyOrder": 5000
        }
    }
}